<!DOCTYPE html>
<html lang="es">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AppNotas â€” Portal Estudiante</title>
    <link rel="stylesheet" href="css/styles.css">
</head>

<body class="dashboard">
    <!-- Sidebar -->
    <aside class="sidebar" id="sidebar">
        <div class="sidebar-logo">
            <h2><span class="icon">ğŸ“š</span> AppNotas</h2>
            <p>Portal del Estudiante</p>
        </div>
        <nav class="sidebar-nav">
            <a href="#" class="active" data-section="profile"><span class="nav-icon">ğŸ‘¤</span> Mi Perfil</a>
            <a href="#" data-section="grades"><span class="nav-icon">ğŸ“</span> Mis Notas</a>
        </nav>
        <div class="sidebar-footer">
            <button id="logoutBtn" class="btn-logout">
                <span>ğŸšª</span> Cerrar SesiÃ³n
            </button>
        </div>
    </aside>

    <!-- Main Content -->
    <main class="main-content">
        <header class="top-bar">
            <h1 id="pageTitle">Mi Perfil Estudiantil</h1>
            <div class="user-info">
                <div class="avatar" id="topAvatar">E</div>
                <div>
                    <div class="user-name" id="topName">Cargando...</div>
                    <div class="user-role">Estudiante</div>
                </div>
            </div>
        </header>

        <!-- Alertas -->
        <div id="alert" class="alert">
            <span class="icon"></span>
            <span id="alert-message"></span>
        </div>

        <div id="loadingState" class="loading-container">
            <div class="spinner"></div>
            <p>Cargando informaciÃ³n...</p>
        </div>

        <!-- ===== SECCIÃ“N PERFIL ===== -->
        <div id="profileSection" style="display: none; max-width: 800px; margin: 0 auto;">
            <div class="profile-card">
                <div class="profile-header">
                    <div class="profile-avatar" id="mainAvatar">E</div>
                    <h2 id="profileName">Nombre del Estudiante</h2>
                    <p id="profileRole">Estudiante Regular</p>
                </div>

                <div class="profile-body">
                    <div class="profile-info-item">
                        <div class="info-icon">ğŸ†”</div>
                        <div>
                            <div class="info-label">ID de Estudiante</div>
                            <div class="info-value" id="infoId">-</div>
                        </div>
                    </div>

                    <div class="profile-info-item">
                        <div class="info-icon">âœ‰ï¸</div>
                        <div>
                            <div class="info-label">Correo ElectrÃ³nico Institucional</div>
                            <div class="info-value" id="infoEmail">-</div>
                        </div>
                    </div>

                    <div class="profile-info-item">
                        <div class="info-icon">ğŸ“…</div>
                        <div>
                            <div class="info-label">Fecha de Registro</div>
                            <div class="info-value" id="infoDate">-</div>
                        </div>
                    </div>

                    <div class="profile-info-item"
                        style="background: var(--primary-bg); padding: 20px; border-radius: 12px; margin-top: 16px; border: 1px solid rgba(79, 70, 229, 0.2);">
                        <div class="info-icon" style="background: #fff;">ğŸ‘¨â€ğŸ«</div>
                        <div style="flex: 1;">
                            <div class="info-label" style="margin-bottom: 8px;">Mis Profesores y Materias</div>
                            <div id="infoTeacherContainer">
                                <select id="teacherSubjectSelect" class="form-group"
                                    style="width: 100%; border-radius: 8px; border: 1px solid var(--border); padding: 10px; background: white; color: var(--text-primary); font-size: 14px; outline: none; box-shadow: var(--shadow-sm); cursor: pointer;">
                                    <option value="">Cargando asignaturas...</option>
                                </select>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- ===== SECCIÃ“N NOTAS ===== -->
        <div id="gradesSection" style="display: none;">
            <div class="stats-grid" id="gradeStats" style="margin-bottom: 24px;">
                <div class="stat-card">
                    <div class="stat-icon orange">ğŸ“</div>
                    <div class="stat-info">
                        <h3 id="totalGradesCount">0</h3>
                        <p>Total de Registros</p>
                    </div>
                </div>
            </div>

            <div id="gradesContainer" style="display: grid; gap: 24px;">
                <!-- Las asignaturas y notas se renderizan aquÃ­ -->
            </div>
        </div>

    </main>

    <script src="js/student.js"></script>
</body>

</html>